{
    "patches": [
        {
            "label": "2025-11-30_14-47-42",
            "content": "@@ -3312,16 +3312,27 @@\n     args\n+: list%5Bstr%5D\n  = line.\n",
            "lines": "132"
        },
        {
            "label": "2025-11-30_15-12-30",
            "content": "@@ -3437,480 +3437,8 @@\n da)%0A\n-        elif args%5B0%5D == %22add%22:%0A            name = args%5B1%5D%0A            fone = %5B%5D%0A            for token in args%5B2:%5D:%0A                try:%0A                    id, number = token.split(%22:%22)%0A                    fone.append(Fone(id, number))%0A                except:%0A                    print(%22fail: invalid fone format%22)%0A            agenda.addContact(name, fone)%0A        elif args%5B0%5D == %22rm%22:%0A            agenda.rmContact(args%5B1%5D)%0A        elif args%5B0%5D == %22rmFone%22:%0A            %0A\n main\n",
            "lines": "132"
        },
        {
            "label": "2025-11-30_15-19-41",
            "content": "@@ -3908,238 +3908,8 @@\n     \n-name = args%5B1%5D%0A            index = int(args%5B2%5D)%0A            contact = agenda.getContact(name)%0A            if contact is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                contact.rmFone(index)\n %0Amai\n",
            "lines": "146"
        },
        {
            "label": "2025-11-30_15-20-39",
            "content": "@@ -2673,165 +2673,8 @@\n s)%0A%0A\n-    def getContact(self, name: str):%0A        pos = self.findPosByName(name)%0A        if pos == -1:%0A            return None%0A        return self.contacts%5Bpos%5D%0A%0A\n     \n@@ -2987,17 +2987,16 @@\n tContact\n-s\n (self) -\n@@ -4139,256 +4139,8 @@\n ex)%0A\n-        elif args%5B0%5D == %22fav%22:%0A            name = args%5B1%5D%0A            contact = agenda.getContact(name)%0A            if contact is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                contact.toggleFav()%0A        %0A\n main\n",
            "lines": "152"
        },
        {
            "label": "2025-11-30_15-27-57",
            "content": "@@ -4544,479 +4544,8 @@\n     \n-elif args%5B0%5D == %22unfav%22:%0A            name = args%5B1%5D%0A            contact = agenda.getContact(name)%0A            if contact is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                contact.toggleFav()%0A        elif args%5B0%5D == %22showFavs%22:%0A            for c in agenda.getFavorited():%0A                print(c)%0A        elif args%5B0%5D == %22search%22:%0A            pattern = args%5B1%5D%0A            for c in agenda.search(pattern):%0A                print(c)\n %0Amai\n",
            "lines": "166"
        },
        {
            "label": "2025-11-30_15-31-33",
            "content": "@@ -2814,24 +2814,25 @@\n self.contact\n+s\n %5Bpos%5D%0A%0A    d\n",
            "lines": "179"
        },
        {
            "label": "2025-11-30_15-32-44",
            "content": "@@ -516,32 +516,55 @@\n (self, name: str\n+, fone: list%5BFone%5D = %5B%5D\n ):%0A        self.\n@@ -567,33 +567,23 @@\n elf.fone\n-: list%5BFone%5D = %5B%5D\n+ = fone\n %0A       \n@@ -1834,24 +1834,54 @@\n _init__(self\n+, contacts: list%5BContact%5D = %5B%5D\n ):%0A        s\n@@ -1891,36 +1891,27 @@\n .contact\n-: list%5BContact%5D = %5B%5D\n+ = contacts\n %0A%0A    de\n",
            "lines": "179"
        },
        {
            "label": "2025-11-30_15-34-35",
            "content": "@@ -3074,16 +3074,17 @@\n .contact\n+s\n  if c.is\n",
            "lines": "179"
        },
        {
            "label": "2025-11-30_15-36-09",
            "content": "@@ -4971,253 +4971,15 @@\n     \n-fones = %5B%5D%0A                for f in c.getFones():%0A                    if pattern in c.getName() or pattern in f.id or pattern in f.number:%0A                        fones.append(str(f))%0A                print(f%22- %7Bc.getName()%7D%5B%7B', '.join(fones)%7D%5D%22)\n+print(c\n )%0Ama\n",
            "lines": "179"
        },
        {
            "label": "2025-11-30_15-39-15",
            "content": "@@ -5212,16 +5212,17 @@\n nes)%7D%5D%22)\n+)\n %0Amain()%0A\n",
            "lines": "183"
        },
        {
            "label": "2025-11-30_15-39-28",
            "content": "@@ -4967,23 +4967,260 @@\n         \n-print(c\n+fones = %5B%5D%0A                for f in c.getFones():%0A                    if pattern in c.getName() or pattern in f.id or pattern in f.number:%0A                        fones.append(str(f))%0A                print(f%22- %7Bc.getName()%7D%5B%7B', '.join(fones)%7D%5D%22\n )%0Amain()\n",
            "lines": "183"
        },
        {
            "label": "2025-11-30_15-40-19",
            "content": "@@ -4922,12 +4922,16 @@\n     \n-en =\n+for c in\n  age\n@@ -4953,39 +4953,8 @@\n ern)\n-%0A%0A            for contato in en\n :%0A  \n@@ -4978,14 +4978,8 @@\n nt(c\n-ontato\n )%0Ama\n",
            "lines": "179"
        },
        {
            "label": "2025-11-30_15-42-57",
            "content": "@@ -2982,49 +2982,14 @@\n urn \n-sorted(result, key=lambda x: x.getName())\n+result\n %0A   \n",
            "lines": "181"
        },
        {
            "label": "2025-11-30_15-47-14",
            "content": "@@ -4317,17 +4317,16 @@\n %5B0%5D == %22\n-t\n fav%22:%0A  \n",
            "lines": "181"
        },
        {
            "label": "2025-11-30_15-54-14",
            "content": "@@ -4557,17 +4557,262 @@\n %5B0%5D == %22\n-f\n+unfav%22:%0A            name = args%5B1%5D%0A            contact = agenda.getContact(name)%0A            if contact is None:%0A                print(%22fail: contact not found%22)%0A            else:%0A                contact.toggleFav()%0A        elif args%5B0%5D == %22showF\n avs%22:%0A  \n",
            "lines": "181"
        },
        {
            "label": "2025-11-30_15-55-18",
            "content": "class Fone:\n    def __init__(self, id: str, number: str):\n        self.id = id\n        self.number = number\n\n    def isValid(self) -> bool:\n        if not self.id or not self.number:\n            return False\n        if any(c.isalpha() for c in self.number):\n            return False\n        return True\n    \n    def getId(self):\n        return self.id\n    \n    def getNumber(self):\n        return self.number\n    \n    def __str__(self):\n        return f\"{self.id}:{self.number}\"\n    \nclass Contact:\n    def __init__(self, name: str):\n        self.fone: list[Fone] = []\n        self.name = name\n        self.fav: bool = False\n\n    def addFone(self, id: str, number: str):\n        fone = Fone(id, number)\n        if not fone.isValid():\n            print(\"fail: invalid number\")\n            return\n        self.fone.append(fone)\n        \n\n    def rmFone(self, index: int):\n        self.fone.pop(index)\n\n    def toggleFav(self):\n        if self.fav == False:\n            self.fav = True\n            return\n        else:\n            self.fav = False\n\n    def isFav(self) -> bool:\n        if self.fav == True:\n            return True\n        else:\n            return False\n        \n    def getFones(self):\n        return self.fone\n    \n    def getName(self):\n        return self.name\n    \n    def setName(self, name: str):\n        self.name = name\n\n    def matches(self, pattern: str) -> bool:\n        if pattern in self.name:\n            return True\n        for f in self.fone:\n            if pattern in f.id or pattern in f.number:\n                return True\n        return False\n\n    def __str__(self):\n        fone = \", \".join([str(x) for x in self.fone])\n        if self.fav == True:\n            return f\"@ {self.name} [{fone}]\"\n        else:\n            return f\"- {self.name} [{fone}]\"\n        \nclass Agenda:\n    def __init__(self):\n        self.contact: list[Contact] = []\n\n    def findPosByName(self, name: str) -> int:\n        for i, c in enumerate(self.contact):\n            if c.getName() == name:\n                return i\n        return -1\n\n    def addContact(self, name: str, fones: list[Fone]):\n        pos = self.findPosByName(name)\n        if pos == -1:\n            contact = Contact(name)\n            for f in fones:\n                contact.addFone(f.id, f.number)\n            self.contact.append(contact)\n        else:\n            contact = self.contact[pos]\n            for f in fones:\n                contact.addFone(f.id, f.number)\n\n    def rmContact(self, name: str):\n        pos = self.findPosByName(name)\n        if pos == -1:\n            print(\"fail: contact not found\")\n            return\n        self.contact.pop(pos)\n\n    def getContact(self, name: str):\n        pos = self.findPosByName(name)\n        if pos == -1:\n            return None\n        return self.contact[pos]\n\n    def search(self, pattern: str) -> list[Contact]:\n        result = []\n        for c in self.contact:\n            if c.matches(pattern):\n                result.append(c)\n        return sorted(result, key=lambda x: x.getName())\n    \n    def getFavorited(self) -> list[Contact]:\n        return [c for c in self.contact if c.isFav()]\n\n    def getContacts(self) -> list[Contact]:\n        return self.contact\n    \n    def __str__(self):\n        order = sorted(self.contact, key= lambda x:x.getName())\n        return \"\\n\".join(str(contact) for contact in order)\n        \ndef main():\n    agenda = Agenda()\n    while True:\n        line = input()\n        print(\"$\" + line)\n        args = line.split()\n        if args[0] == \"end\":\n            break\n        elif args[0] == \"show\":\n            print(agenda)\n        elif args[0] == \"add\":\n            name = args[1]\n            fone = []\n            for token in args[2:]:\n                try:\n                    id, number = token.split(\":\")\n                    fone.append(Fone(id, number))\n                except:\n                    print(\"fail: invalid fone format\")\n            agenda.addContact(name, fone)\n        elif args[0] == \"rm\":\n            agenda.rmContact(args[1])\n        elif args[0] == \"rmFone\":\n            name = args[1]\n            index = int(args[2])\n            contact = agenda.getContact(name)\n            if contact is None:\n                print(\"fail: contact not found\")\n            else:\n                contact.rmFone(index)\n        elif args[0] == \"tfav\":\n            name = args[1]\n            contact = agenda.getContact(name)\n            if contact is None:\n                print(\"fail: contact not found\")\n            else:\n                contact.toggleFav()\n        elif args[0] == \"favs\":\n            for c in agenda.getFavorited():\n                print(c)\n        elif args[0] == \"search\":\n            pattern = args[1]\n            en = agenda.search(pattern)\n\n            for contato in en:\n                print(contato)\nmain()\n",
            "lines": "174"
        }
    ]
}